# 目录



-------------------------------------------------------------

## 注册
| 请求方法 | 请求url                     | 请求参数(参数类型)                    |
| -------- | --------------------------- | ------------------------------------- |
| post     | http://localhost:3000/users | {email, password, password2, captcha} |

1. 描述： 创建新用户
2. 返回示例(根据数据库结构)
  ```json
  {
    "code": 0,
  }
  ```

## 邮箱验证激活(需要注意)
| 请求方法 | 请求url                                         | 请求参数(参数类型) |
| -------- | ----------------------------------------------- | ------------------ |
| get      | http://localhost:3000/email-activation/:captcha | captcha            |
1. 描述： 邮箱激活验证,获得captcha,然后更新，更新用户status
2. 返回示例(根据数据库结构)


## 登陆
| 请求方法 | 请求url                                   | 请求参数(参数类型) |
| -------- | ----------------------------------------- | ------------------ |
| post     | http://localhost:3000/users/actions/login | {emial, password}  |

1. 描述： 登陆
2. 返回示例(根据数据库结构)
  - message
  - userInfo
  - token


## 修改密码
| 请求方法 | 请求url                              | 请求参数(参数类型)              |
| -------- | ------------------------------------ | ------------------------------- |
| put      | http://localhost:3000/users/password | password, password2, password3} |
1. 描述： 修改密码,根据token获得_id
2. 返回示例(根据数据库结构)

## 忘记密码
| 请求方法 | 请求url                               | 请求参数(参数类型) |
| -------- | ------------------------------------- | ------------------ |
| post     | http://localhost:3000/forget-password | email              |
1. 描述  根据_id，发送重置密码的前端链接到注册邮箱
2. 返回示例

## 重置密码的认证
| 请求方法 | 请求url                                                    | 请求参数(参数类型) |
| -------- | ---------------------------------------------------------- | ------------------ |
| get      | http://localhost:3000/reset-password-authentication/:token | token              |
1. 描述  前端链接点击了重置链接后，在渲染前发送认证请求，请求通过则渲染重置密码的页面，并发送一个jst token给用户
2. 返回示例

## 重置密码
| 请求方法 | 请求url                              | 请求参数(参数类型)                  |
| -------- | ------------------------------------ | ----------------------------------- |
| post     | http://localhost:3000/reset-password | token(非表单）, password, password2 |
1. 描述  根据token的_id修改密码
2. 返回示例


## 注销
| 请求方法 | 请求url                                       | 请求参数(参数类型) |
| -------- | --------------------------------------------- | ------------------ |
| get      | http://localhost:3000/user/_id/actions/logout | 无                 |

1. 描述： 注销
2. 返回示例(根据数据库结构)


---------------------------------------------------------------------------------

## 修改username
| 请求方法 | 请求url                              | 请求参数(参数类型) |
| -------- | ------------------------------------ | ------------------ |
| put      | http://localhost:3000/users/username | _id username       |
1. 描述： 修改username(因为要快速获得username是否存在这个提示)
2. 返回示例(根据数据库结构)

## 修改profile（个人中心）信息
| 请求方法 | 请求url                             | 请求参数(参数类型) |
| -------- | ----------------------------------- | ------------------ |
| post     | http://localhost:3000/users/profile | _id ,很多参数      |
- username
- gender
- age
- location
- birthday
- mtto
- introduction
- private

1. 描述： 邮箱激活验证
2. 返回示例(根据数据库结构)


----------------------------------------------------------------------
# collections 相关
## 获得collections
| 请求方法 | 请求url                                      | 请求参数(参数类型) |
| -------- | -------------------------------------------- | ------------------ |
| get      | http://localhost:3000/users/:_id/collections | _id                |
1. 描述： 获得用户的1collections
2. 返回示例(根据数据库结构)

## 管理collections
| 请求方法 | 请求url                                      | 请求参数(参数类型) |
| -------- | -------------------------------------------- | ------------------ |
| put      | http://localhost:3000/users/:_id/collections | _id, collections   |
1. 描述： 管理collections，即更新collections
  - 个人收藏资源的删除
  - 收藏喜欢的资源
2. 返回示例(根据数据库结构)

--------------------------------------
# 获得用户上传的资源
| 请求方法 | 请求url                                    | 请求参数(参数类型) |
| -------- | ------------------------------------------ | ------------------ |
| get      | http://localhost:3000/users/:_id/resources | _id                |
1. 描述： 获得用户上传的资源
2. 返回示例(根据数据库结构)

其他资源操作


---------------------------------------------------------------------------------
## 获得用户所有的信息
| 请求方法 | 请求url                          | 请求参数(参数类型) |
| -------- | -------------------------------- | ------------------ |
| get      | http://localhost:3000/users/:_id | _id                |
1. 描述： 获得用户所有信息
2. 返回示例(根据数据库结构)


